!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){let t="cubic-bezier(.4,0,.2,1)",i=e(document.createElement("style")).appendTo(document.head).addClass("ripple-custom-config"),r=e(document.createElement("style")).appendTo(document.head).addClass("ripple-coordinates"),a={},p={},l=0,n="ontouchstart"in document.body?"mousedown touchstart":"mousedown";return e.fn.ripple=function(s){let o={ease:t,duration:400,onclick:!1,disable:!1,type:"pointed",size:1},d="ripple-"+Math.round(1e9*Math.random());if(e(this).each((t,i)=>{let a=e(i);if("string"==typeof s){switch(s){case"onmousedown":a[0].rippleVars.ondown=!0,a.unbind("click",a[0].rippleVars.callback).bind(n,a[0].rippleVars.callback);break;case"onclick":a[0].rippleVars.ondown=!1,a.unbind(n,a[0].rippleVars.callback).bind("click",a[0].rippleVars.callback);break;case"enable":a.removeClass("ripple-disabled").bind(a[0].rippleVars.ondown?n:"click",a[0].rippleVars.callback);break;case"disable":a.addClass("ripple-disabled").unbind("click",a[0].rippleVars.callback).unbind(n,a[0].rippleVars.callback);break;case"ripple":a.removeClass("ripple-disabled").trigger(a[0].rippleVars.ondown?"mousedown":"click");break;case"dismiss":a.removeClass("ripple")}return}(o=e.extend(o,s)).duration="number"==typeof o.duration?o.duration:/^([2-9]|10)x$/i.test(o.duration)?o.duration.toLowerCase():400;let c=e=>{let t,i,l,n,s;if("touchstart"==e.type?(t=e.currentTarget.getBoundingClientRect(),i=e.originalEvent.touches[0].clientX-t.left,l=e.originalEvent.touches[0].clientY-t.top,n=e.originalEvent.touches[0].pageX,s=e.originalEvent.touches[0].pageY):(i=e.offsetX,l=e.offsetY,n=e.pageX,s=e.pageY),0==i&&0==l||"trigger"==a[0].rippleVars.type)p[a[0].rippleVars.rid]="";else{let e=a.offset();p[a[0].rippleVars.rid]=`\n\t\t\t\t\t.ripple-element.${a[0].rippleVars.rid}.ripple::after {\n\t\t\t\t\t\tleft: ${(n-e.left)/a.outerWidth()*100-100}%;\n\t\t\t\t\t\ttop: ${(s-e.top)/a.outerHeight()*100}%;\n\t\t\t\t\t}`}let o="";for(let e in p)o+=p[e];r.html(o)};a[0].rippleVars={idx:d,rid:"ripple-running-"+Math.round(1e9*Math.random()),size:parseInt(Math.min(Math.max(o.size,1),10)),ease:o.ease,type:o.type,time:/^([2-9]|10)x$/i.test(o.duration)?400*parseInt(o.duration):o.duration,timeout:0,ondown:!o.onclick,callback:e=>{"mousedown"==e.type&&"ontouchstart"in document.body||a.hasClass("ripple-disabled")||(0==a[0].rippleVars.timeout?(l++,"pointed"==a[0].rippleVars.type&&c(e),a.addClass("ripple")):(a.removeClass("ripple"),"pointed"==a[0].rippleVars.type&&c(e),requestAnimationFrame(()=>{a.addClass("ripple")})),clearTimeout(a[0].rippleVars.timeout),a[0].rippleVars.timeout=setTimeout(()=>{a.removeClass("ripple"),a[0].rippleVars.timeout=0,--l<=0&&(l=0,p={},r.html(""))},a[0].rippleVars.time+16))}};let u="";switch(a[0].rippleVars.type){case"icon":u=" ripple-icon";break;case"icon-big":u=" ripple-icon-big";break;case"icon-small":u=" ripple-icon-small"}a.addClass("ripple-"+("trigger"==o.type?"trigger":"element")+u+(o.disable?" ripple-disabled":"")+" "+a[0].rippleVars.idx).addClass(a[0].rippleVars.rid).addClass(a[0].rippleVars.size>=2&&a[0].rippleVars.size<=10?"ripple-anim-"+a[0].rippleVars.size+"x":"").addClass(/^([2-9]|10)x$/i.test(o.duration)?"ripple-time-"+parseInt(o.duration)+"x":"").bind(a[0].rippleVars.ondown?n:"click",a[0].rippleVars.callback).click(function(e){0==a[0].rippleVars.timeout&&a[0].rippleVars.ondown&&0==e.offsetY&&0==e.offsetX&&a.trigger("mousedown",e)})}),"object"==typeof s){(400!==(o=e.extend(o,s)).duration&&!1===/^([2-9]|10)x$/i.test(o.duration)||o.ease!==t)&&(a[d]=`.ripple-${"trigger"==o.type?"trigger":"element"}.${d}.ripple${"trigger"==o.type?" .ripple-target":""}::after {`+`${o.ease!==t?"animation-timing-function: "+o.ease+";":""}`+`${400!==o.duration&&!1===/^([2-9]|10)x$/i.test(o.duration)?"animation-duration: "+o.duration+"ms;":""}`+"}");let r="";for(let e in a)r+=a[e];i.html(r)}return this},e});