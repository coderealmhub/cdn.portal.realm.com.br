!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t:t(jQuery)}(function(t){return t("html").on("dragover drop",function(t){t.preventDefault()}),t.fn.scrollbars=function(t,e,a){if(!window.isMobile&&!window.isTouch)return this.mCustomScrollbar(t,e,a);switch(t){case"scrollTo":return this.scrollTop(e);case"":return this;default:return console.log("SCROLLBARS: ",t,e,a),"object"==typeof t&&void 0===e&&this.css("overflow","auto"),this}},t.fn.calendar=function(e,a){var n=this,o={date:new Date,autoSelect:!1,select:function(t){},toggle:function(t,e,a){}},d={y:o.date.getFullYear(),m:o.date.getMonth()+1,d:o.date.getDate()},i={y:0,m:0,d:0};t(this).prop("selected",i),o=t.extend(o,e);for(var l="Dom Seg Ter Qua Qui Sex Sáb".split(" "),r="Janeiro Fevereiro Março Abril Maio Junho Julho Agosto Setembro Outubro Novembro Dezembro".split(" "),s=("Jan Fev Mar Abr Mai Jun Jul Ago Set Out Nov Dez".split(" "),(new Date).getDate(),function(e,a,n){var d=t("<table>").addClass("month-body"),i=t("<thead>").addClass("month-week").appendTo(d).append("<tr></tr>").find("tr"),r=t("<tbody>").addClass("month-days").appendTo(d);for(y=0;y<7;y++)i.append("<th>"+l[y]+"</th>");for(var s=new Date(e,a-1,1),p=new Date,u=p.getDate(),f=!(p.getMonth()+1!==a||p.getFullYear()!==e),m=new Date(e,a,0).getDate(),v=(Math.ceil((m+s.getDay())/7),1),y=0;y<6;y++){for(var h=t("<tr>").appendTo(r),g=0;g<7;g++)0===y&&g<s.getDay()||v>m?h.append("<td></td>"):(t("<td>").text(v<10?"0"+v:v).addClass(f&&v===u?"today":"").attr("data-date",v).appendTo(h).click(function(n){t(this).parent().parent().find(".active").removeClass("active"),t(this).addClass("active"),c(e,a,parseInt(t(this).attr("data-date")))}),v++);5===y&&7===r.children(":first").text().split(" ").join("").split("0").join("").length&&h.prependTo(r)}return r.find("td[data-date]").ripple(),o.autoSelect&&r.find('td[data-date="'+n+'"]').click(),d}),c=function(t,e,a){i.d=a,i.m=e,i.y=t;var d=new Date(t,e-1,a);o.select.bind(n)(d)},p=function(t,e,a,l){m=!0,y.addClass("no-overflow"),w.text(r[a-1]+" "+e),M.text(e),S.find(".active").removeClass("active"),S.find('[data-month="'+a+'"]').addClass("active"),null===l&&e===i.y&&a===i.m&&(l=i.d);var c=s(e,a,l).addClass(t).insertBefore(D);o.toggle.bind(n)(d.y,d.m,d.d),setTimeout(function(){c.addClass("come")},1e3/60),D.one("transitionend",function(e){D.remove(),(D=c).removeClass(t+" come"),y.removeClass("no-overflow"),m=!1})},u=function(t){x.addClass("visible")},f=function(t){x.removeClass("visible")},m=!1,v=o.date,y=t(this[0]).addClass("nao-month"),h=t("<button>").addClass("ic ic-arrow-angle-left").ripple().attr("title","Previous month").click(function(t){t.preventDefault(),m||(d.m=d.m-1==0?12:d.m-1,d.y=12===d.m?d.y-1:d.y,p("prev",d.y,d.m,null))}).focus(f),g=t("<button>").addClass("ic ic-arrow-angle-right").ripple().attr("title","Next month").click(function(t){t.preventDefault(),m||(d.m=d.m+1===13?1:d.m+1,d.y=1===d.m?d.y+1:d.y,p("next",d.y,d.m,null))}).focus(f),b=t("<button>").addClass("btn ic ic-calendar").ripple().attr("title","View current month").click(function(t){if(t.preventDefault(),!m){var e=new Date;if(e.getFullYear()!==d.y||e.getMonth()+1!==d.m){var a=12*d.y+d.m>12*e.getFullYear()+e.getMonth()+1?"prev":"next";d.y=e.getFullYear(),d.m=e.getMonth()+1,p(a,d.y,d.m,null)}}}).focus(f),C=t('<button data-toggle="modal" data-target="#modal-settings">').addClass("btn ic ic-wrench").ripple().attr("title","View selected date").click(function(t){if(t.preventDefault(),!m&&!(i.d<1||i.y===d.y&&i.m===d.m)){var e=12*d.y+d.m>12*i.y+i.m?"prev":"next";d.y=i.y,d.m=i.m,p(e,d.y,d.m,null)}}).focus(f),w=t("<div>").text(r[v.getMonth()]+" "+v.getFullYear()).attr("title","Select year and month").click(u),D=(t("<div>").addClass("month-head").append(h).append(b).append(g).append(C).append(w).appendTo(y),s(d.y,d.m,e&&e.date?d.d:null).appendTo(y)),x=(o.toggle.bind(n)(d.y,d.m,d.d),t("<div>").addClass("year-month").prependTo(y)),T=t("<button>").addClass("ic ic-arrow-angle-right").ripple().click(function(t){t.preventDefault(),m||(d.y++,M.text(d.y),p("next",d.y,d.m,null))}).focus(u),k=t("<button>").addClass("ic ic-arrow-angle-left").ripple().click(function(t){t.preventDefault(),m||(d.y--,M.text(d.y),p("prev",d.y,d.m,null))}).focus(u),M=t("<div>").text(d.y).attr("title","Go back to calendar").click(f),S=(t("<div>").addClass("month-head").append(k).append(T).append(M).appendTo(x),t("<table>").addClass("year-body").appendTo(x).html("<tbody></tbody>").find("tbody")),F=(t("<div>").addClass("year-footer ic ic-arrow-circle-angle-up").attr("title","Go back to calendar").ripple().appendTo(x).click(function(t){x.removeClass("visible")}),0);F<4;F++)for(var j=t("<tr>").appendTo(S),J=0;J<3;J++){var Y=3*F+J;t("<td>").text(r[Y]).attr("data-month",Y+1).addClass(d.m===Y+1?"active":"").appendTo(j).ripple().click(function(e){if(!m){var a=parseInt(t(this).attr("data-month"));if(a!=d.m){var n=d.m>a?"prev":"next";d.m=a,t(this).parent().parent().find(".active").removeClass("active"),t(this).addClass("active"),p(n,d.y,d.m,null)}}})}return this},t});